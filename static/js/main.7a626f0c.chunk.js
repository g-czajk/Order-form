(this.webpackJsonporder_form=this.webpackJsonporder_form||[]).push([[0],{82:function(e,n,r){},83:function(e,n,r){},90:function(e,n,r){"use strict";r.r(n);var t=r(0),i=r(13),s=r.n(i),a=(r(82),r(83),r(39)),o=r.n(a),c=r(60),d=r(54),l=r(55),u=r(15),p=r(28),m=r(127),b=r(130),f=r(128),j=r(129),h=r(25),O=r(61),x=r(132),_=r(11),g=[{size:6,field:Object(_.jsx)(h.b,{label:"Dish name",name:"name",margin:"none",required:!0}),dependsOn:null},{size:6,field:Object(_.jsx)(h.b,{label:"Preparation time (hh:mm:ss)",name:"preparation_time",margin:"none",required:!0,fieldProps:{parse:function(e){return Object(O.a)("HH:MM:SS",e.replace(/[^\d]/g,""))}}}),dependsOn:null},{size:4,field:Object(_.jsxs)(h.a,{name:"type",label:"Select dish type",formControlProps:{margin:"none"},children:[Object(_.jsx)(x.a,{value:"pizza",children:"Pizza"}),Object(_.jsx)(x.a,{value:"soup",children:"Soup"}),Object(_.jsx)(x.a,{value:"sandwich",children:"Sandwich"})]}),dependsOn:null},{size:4,field:Object(_.jsx)(h.b,{label:"No. of slices",name:"no_of_slices",margin:"none",type:"number",required:!0,InputProps:{inputProps:{min:1}},fieldProps:{parse:function(e){return""!==e?parseInt(e):void 0}}}),dependsOn:"pizza"},{size:4,field:Object(_.jsx)(h.b,{label:"Diameter",name:"diameter",margin:"none",type:"number",InputProps:{inputProps:{step:.1}},fieldProps:{parse:function(e){return""!==e?(n=2,parseFloat(parseFloat(e).toFixed(n))):void 0;var n}},required:!0}),dependsOn:"pizza"},{size:8,field:Object(_.jsx)(h.b,{label:"Spiciness scale (1-10)",name:"spiciness_scale",margin:"none",type:"number",InputProps:{inputProps:{min:1,max:10}},fieldProps:{parse:function(e){return""!==e?parseInt(e):void 0}},required:!0}),dependsOn:"soup"},{size:8,field:Object(_.jsx)(h.b,{label:"Slices of bread",name:"slices_of_bread",margin:"none",type:"number",required:!0,fieldProps:{parse:function(e){return""!==e?parseInt(e):void 0}}}),dependsOn:"sandwich"}],y=new RegExp(/(?:[01]\d|[0-9][0-9]):(?:[0-5]\d):(?:[0-5]\d)/),v=function(e){var n={};return e.name||(n.name="Required"),e.preparation_time||(n.preparation_time="Required"),e.preparation_time&&!y.test(e.preparation_time)&&(n.preparation_time="Invalid data format (correct: hh:mm:ss)"),e.type||(n.type="Required"),"pizza"===e.type?(e.no_of_slices||(n.no_of_slices="Required"),e.no_of_slices<1&&""!==e.no_of_slices&&(n.no_of_slices="Insert correct number"),e.diameter||(n.diameter="Required"),e.diameter<=0&&""!==e.diameter&&(n.diameter="Insert correct number")):"soup"===e.type?(e.spiciness_scale||(n.spiciness_scale="Required"),(e.spiciness_scale<1||e.spiciness_scale>10)&&(n.spiciness_scale="Insert correct number (1-10)")):"sandwich"===e.type&&(e.slices_of_bread||(n.slices_of_bread="Required"),e.slices_of_bread<1&&""!==e.slices_of_bread&&(n.slices_of_bread="Insert correct number")),n},z=function(){var e=Object(t.useState)(null),n=Object(l.a)(e,2),r=n[0],i=n[1],s=Object(t.useState)(null),a=Object(l.a)(s,2),h=a[0],O=a[1],x=function(){i(null),O(null)},y=function(){var e=Object(d.a)(o.a.mark((function e(n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://frosty-wood-6558.getsandbox.com:443/dishes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){if(e.errors)return O("Submission failed."),e.errors.forEach((function(e){return console.log(e.message)})),Object(c.a)({},p.a,"Submission failed.");i("Congratulations! Your order has been submitted."),console.log(e)})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(_.jsx)("div",{style:{padding:16,margin:"auto",maxWidth:600},children:Object(_.jsx)(u.b,{onSubmit:y,initialValues:{},validate:v,render:function(e){var n=e.handleSubmit,t=e.submitting,i=e.values,s=e.form;return Object(_.jsx)("form",{onSubmit:Object(d.a)(o.a.mark((function e(){var r,t,a=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(),e.next=3,n.apply(void 0,a);case 3:if(r=e.sent,t=v(i),!r){e.next=7;break}return e.abrupt("return");case 7:r||0!==Object.keys(t).length||s.restart();case 8:case"end":return e.stop()}}),e)}))),noValidate:!0,children:Object(_.jsxs)(m.a,{style:{paddingTop:24,paddingRight:16,paddingBottom:24,paddingLeft:16},children:[Object(_.jsx)(b.a,{container:!0,item:!0,justify:"center",style:{marginBottom:20},children:Object(_.jsx)(f.a,{variant:"h5",component:"h2",color:"textPrimary",children:"Insert your order"})}),Object(_.jsxs)(b.a,{container:!0,alignItems:"flex-start",spacing:2,children:[g.filter((function(e){return e.dependsOn===i.type||null===e.dependsOn})).map((function(e,n){return Object(_.jsx)(b.a,{item:!0,xs:e.size,children:e.field},n)})),Object(_.jsxs)(b.a,{container:!0,item:!(!h&&!r)||null,justify:"center",style:h||r?{marginTop:24}:{},children:[h&&Object(_.jsx)(f.a,{variant:"body1",color:"error",children:h}),r&&Object(_.jsx)(f.a,{variant:"body1",className:"success",children:r})]}),Object(_.jsx)(b.a,{item:!0,style:{marginTop:24,marginLeft:"auto",marginRight:"auto"},children:Object(_.jsx)(j.a,{variant:"contained",color:"primary",type:"submit",disabled:t,children:t?"Submitting...":"Submit"})})]})]})})}})})};var S=function(){return Object(_.jsx)("div",{className:"App",children:Object(_.jsx)(z,{})})};s.a.render(Object(_.jsx)(S,{}),document.getElementById("root"))}},[[90,1,2]]]);
//# sourceMappingURL=main.7a626f0c.chunk.js.map